data:
  cnhubertsoft_gate: 10
  duration: 2
  encoder: vec768l12
  encoder_hop_size: 320
  encoder_out_channels: 768
  encoder_sample_rate: 16000
  extensions:
  - wav
  filter_length: 512
  hop_length: 128
  sampling_rate: 24000
  training_files: filelists/train.txt
  unit_interpolate_mode: nearest
  validation_files: filelists/val.txt
  win_length: 512
device: cuda
env:
  expdir: logs_6
  gpu_id: 0
infer:
  method: dpm-solver++
model:
  n_chans: 512
  n_hidden: 256
  n_layers: 20
  type: Diffusion
  use_pitch_aug: true
  use_attention: true  
  
  # 注意力机制配置
  attention:
    num_heads: 8
    dropout: 0.1
    init_alpha: 1.0  
    num_layers: 3  
    

  spk_embd_transformer:
    enabled: true       
    combine_weights: [2, 1]  
    transform_type: "linear"  
    transform_config:     

train:
  amp_dtype: fp32
  batch_size: 48
  cache_all_data: true
  cache_device: cpu
  cache_fp16: true
  comolr: 5.0e-05
  decay_step: 25000
  epochs: 55
  gamma: 0.5
  interval_force_save: 2000
  interval_log: 100
  interval_val: 2000  # Model saving interval (validation skipped for faster training)
  lr: 0.0001
  num_workers: 8
  save_opt: false
  weight_decay: 0
  
  f0_adversarial_training:
    enabled: true             
    start_step: 20000         
    total_steps: 50000        
    loss_weight: 0.1         
  grl_scheduling:
    gamma: 10.0               
    max_lambda: 0.12          
  gradient_clip_norm: 1.0  
  patience: 10  
  min_delta: 0.001  
  lr_patience: 5  
  lr_factor: 0.5  
  min_lr: 1e-6  
vocoder:
  ckpt: m4singer_hifigan/model_ckpt_steps_1970000.ckpt
  type: m4-gan
